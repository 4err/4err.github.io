{"version":3,"file":"main.js","sources":["helpers/utils.js","views/abstract-view.js","views/welcome-view.js","views/loading-view.js","data/data.js","modules/game-model.js","views/header-view.js","views/level-view.js","views/genre-level-view.js","views/artist-level-view.js","modules/game-screen.js","views/result-view.js","modules/result-screen.js","common/loader.js","data/data-adapter.js","common/application.js","main.js"],"sourcesContent":["/**\n * Created by Denis on 30.03.2018.\n */\n\n/**\n * Slow cloning obj function\n * @param {Object} o\n * @return {Object}\n */\nexport const clone = (o) => JSON.parse(JSON.stringify(o));\n\n/**\n * Plural function\n * @param {int} num\n * @param {Array} pluralArr\n * @return {*}\n */\nexport const plural = (num, pluralArr) => {\n  let n = Math.abs(num);\n\n  n %= 100;\n  if (n >= 5 && n <= 20) {\n    return pluralArr[2];\n  }\n  n %= 10;\n  if (n === 1) {\n    return pluralArr[0];\n  }\n  if (n >= 2 && n <= 4) {\n    return pluralArr[1];\n  }\n  return pluralArr[3];\n};\n","/**\n * Created by Denis on 13.04.2018.\n */\n\nexport default class AbstractView {\n  constructor(data = ``) {\n    this.data = data;\n    this._element = null;\n  }\n\n  get template() {\n  }\n\n  render(html) {\n    let template = document.createElement(`div`);\n    template.innerHTML = html;\n    return template;\n  }\n\n  bind() {\n  }\n\n  get element() {\n    if (this._element === null) {\n      let node = this.render(this.template);\n      this._element = node;\n\n      this.bind(node);\n    }\n\n    return this._element;\n  }\n}\n","/**\n * Created by Denis on 30.03.2018.\n */\nimport {plural} from \"../helpers/utils\";\nimport AbstractView from \"./abstract-view\";\n\nexport default class WelcomeView extends AbstractView {\n  get template() {\n    return `\n    <section class=\"logo\" title=\"Угадай мелодию\"><h1>Угадай мелодию</h1></section>\n    <button class=\"main-play\">Начать игру</button>\n    <h2 class=\"title main-title\">Правила игры</h2>\n    <p class=\"text main-text\">\n      Правила просты&nbsp;— за&nbsp;${Math.round(this.data.time / 60)} ${plural(Math.round(this.data.time / 60), [`минуту`, `минуты`, `минут`])} ответить на все вопросы.<br>\n      Ошибиться можно ${this.data.maxErrors} ${plural(this.data.maxErrors, [`раз`, `раза`, `раз`])}.<br>\n      Удачи!\n    </p>\n`;\n  }\n\n  bind(node) {\n    node.querySelector(`.main-play`).addEventListener(`click`, () => {\n      this.onStart();\n    });\n  }\n\n  onStart() {\n\n  }\n\n}\n\n","/**\n * Created by Denis on 28.04.2018.\n */\n\nimport AbstractView from \"./abstract-view\";\n\nexport default class LoadingView extends AbstractView {\n\n  get template() {\n    return `<section class=\"logo\" title=\"Угадай мелодию\"><h1>Угадай мелодию</h1></section>\n\n    <h2 class=\"title\">${this.data.title}</h2>\n    <div class=\"main-stat\">${this.data.text}</div>`;\n  }\n}\n","/**\n * Created by Denis on 10.04.2018.\n */\nexport const defaultSettings = {\n  time: 300,\n  maxErrors: 3,\n};\n\nexport const IS_DEBUG = false;\n\nexport const COUNT_RULES = {\n  isCorrect: 1,\n  isFast: 1,\n  isFail: 2,\n  fastTime: 30\n};\n\nexport const Result = {\n  TIME: 0,\n  MISTAKES: 1,\n  WIN: 2,\n  NEXT_LEVEL: 3\n};\n\nexport const initialGameStatus = {\n  questionNum: -1,\n  time: defaultSettings.time,\n  mistakes: 0,\n  maxErrors: defaultSettings.maxErrors,\n  points: 0,\n  answers: []\n};\n","/**\n * Created by Denis on 23.04.2018.\n */\n\nimport {initialGameStatus, Result} from \"../data/data\";\nimport {clone} from \"../helpers/utils\";\n\nexport default class GameModel {\n  constructor(questions) {\n    this._questions = questions;\n    this._status = Result.NEXT_LEVEL;\n\n    this._timeLineOffsetStep = 7.75;\n\n    this.restart();\n  }\n\n  get state() {\n    return this._state;\n  }\n\n  get status() {\n    return this._status;\n  }\n\n  get time() {\n    return this._state.time;\n  }\n\n  get mistakes() {\n    return this._state.mistakes;\n  }\n\n  get answers() {\n    return this._state.answers;\n  }\n\n  get currQuestion() {\n    return this._state.question;\n  }\n\n  get points() {\n    return this._state.points;\n  }\n\n  set points(points) {\n    this._state.points = points;\n  }\n\n  hasNextQuestion() {\n    return this.getQuestion(this._state.questionNum + 1) !== void 0;\n  }\n\n  nextQuestion() {\n    this._state.question = this.getQuestion(this._state.questionNum + 1);\n    this._state.questionNum++;\n  }\n\n  restart() {\n    this._state = clone(initialGameStatus);\n    this._state.timeOffset = 0;\n    this.nextQuestion();\n  }\n\n  tick() {\n    this._state.time--;\n\n    this._state.timeOffset += this._timeLineOffsetStep;\n\n    if (this._state.time <= 0) {\n      this._status = Result.TIME;\n    }\n  }\n\n  wrongAnswer() {\n    this._state.mistakes++;\n  }\n\n  addAnswer(answer) {\n    this._state.answers.push(answer);\n    this.updateStatus();\n  }\n\n  updateStatus() {\n    if (this._state.mistakes === this._state.maxErrors) {\n      this._status = Result.MISTAKES;\n    }\n\n    if (!this.hasNextQuestion()) {\n      this._status = Result.WIN;\n    }\n  }\n\n  getQuestion(n) {\n    return this._questions[n];\n  }\n}\n","/*\n * Created by Denis on 10.04.2018.\n */\nimport AbstractView from \"./abstract-view\";\n\nexport default class HeaderView extends AbstractView {\n\n  get template() {\n    return `\n<div class=\"header\">\n<svg xmlns=\"http://www.w3.org/2000/svg\" class=\"timer\" viewBox=\"0 0 780 780\">\n      <circle\n        cx=\"390\" cy=\"390\" r=\"370\"\n        class=\"timer-line\"\n        style=\"\n        stroke-dasharray: 2325;\n        stroke-dashoffset: ${this.data.timeOffset};\n        filter: url(.#blur); \n        transform: rotate(-90deg) scaleY(-1);\n        transform-origin: center\n        \"></circle>\n      <div class=\"timer-value\" xmlns=\"http://www.w3.org/1999/xhtml\">\n        <span class=\"timer-value-mins\">${Math.floor(this.data.time / 60)}</span><!--    \n        --><span class=\"timer-value-dots\">:</span><!--\n        --><span class=\"timer-value-secs\">${(`0` + (this.data.time % 60)).substr(-2)}</span>\n      </div>\n    </svg>\n    <div class=\"main-mistakes\">\n    ${new Array(this.data.mistakes)\n      .fill(`<img class=\"main-mistake\" src=\"img/wrong-answer.png\" width=\"35\" height=\"49\">`)\n      .join(``)}\n    </div>\n</div>\n`;\n  }\n}\n","/**\n * Created by Denis on 16.04.2018.\n */\nimport AbstractView from \"./abstract-view\";\n\nexport default class LevelView extends AbstractView {\n  constructor(data) {\n    super(data);\n\n    this._answers = [];\n    this._time = 35;\n  }\n\n  get template() {\n\n  }\n\n  answerTemplate() {\n\n  }\n\n  stopAllAudio() {\n    const audios = this._element.querySelectorAll(`audio`);\n\n    for (const audio of audios) {\n      audio.pause();\n      audio.nextElementSibling.classList.remove(`player-control--pause`);\n    }\n  }\n\n  bindAudio() {\n    const audioButtons = this._element.querySelectorAll(`.player .player-control`);\n\n    for (const button of audioButtons) {\n      button.addEventListener(`click`, (e) => {\n        e.preventDefault();\n\n        if (button.previousElementSibling.paused === false) {\n          button.previousElementSibling.pause();\n        } else {\n          this.stopAllAudio();\n          button.previousElementSibling.play();\n        }\n\n        button.classList.toggle(`player-control--pause`);\n\n      });\n    }\n\n    this.audioAutoStart();\n  }\n\n  audioAutoStart() {\n    const audio = this._element.querySelector(`audio`);\n    audio.play();\n    audio.nextElementSibling.classList.toggle(`player-control--pause`);\n  }\n\n  buildAnswers() {\n    let answersArr = [];\n    for (let i = 0; i < this.data.answers.length; i++) {\n\n      let it = this.data.answers[i];\n      let template = this.answerTemplate(it, i);\n\n      answersArr.push(template);\n    }\n\n    return answersArr.join(``);\n  }\n\n  get answer() {\n    return {\n      answer: this._answers,\n      time: this._time\n    };\n  }\n\n}\n","/**\n * Created by Denis on 30.03.2018.\n */\nimport LevelView from \"./level-view\";\nimport {IS_DEBUG} from \"../data/data\";\n\nexport default class GenreView extends LevelView {\n  get template() {\n    let answers = this.buildAnswers();\n\n    return `\n     <div class=\"main-wrap\">\n      <h2 class=\"title\">${this.data.text}</h2>\n      <form class=\"genre\">\n        ${answers}\n        <button class=\"genre-answer-send\" disabled type=\"submit\">Ответить</button>\n      </form>\n    </div>\n`;\n  }\n\n  answerTemplate(answer, num) {\n    let debug = ``;\n    if (IS_DEBUG && answer.isCorrect) {\n      debug = `debug`;\n    }\n    return `<div class=\"genre-answer\">\n          <div class=\"player-wrapper\">\n            <div class=\"player\">\n              <audio src=\"${answer.audio}\"></audio>\n              <button class=\"player-control\"></button>\n              <div class=\"player-track\">\n                <span class=\"player-status\"></span>\n              </div>\n            </div>\n          </div>\n          <input type=\"checkbox\" name=\"answer\" value=\"${num}\" id=\"a-${num}\">\n          <label class=\"genre-answer-check ${debug}\" for=\"a-${num}\"></label>\n      </div>`;\n  }\n\n  bind(node) {\n    this.bindAudio();\n    let sendButton = node.querySelector(`.genre-answer-send`);\n    let answerButtons = node.querySelectorAll(`input[name=\"answer\"]`);\n\n    for (let button of answerButtons) {\n      button.addEventListener(`change`, function () {\n        let checkedNum = document.querySelectorAll(`input[name=\"answer\"]:checked`).length;\n        if (checkedNum > 0 && sendButton.disabled) {\n          sendButton.disabled = false;\n        } else if (checkedNum === 0) {\n          sendButton.disabled = true;\n        }\n      });\n    }\n\n    sendButton.addEventListener(`click`, (e) => {\n      e.preventDefault();\n\n      let checked = document.querySelectorAll(`input[name=\"answer\"]:checked`);\n      for (let it of checked) {\n        this._answers.push(it.value);\n      }\n\n      this.onAnswerClick(this._answers, this._time);\n    });\n  }\n\n  onAnswerClick() {\n  }\n\n}\n","/**\n * Created by Denis on 30.03.2018.\n */\nimport LevelView from \"./level-view\";\nimport {IS_DEBUG} from \"../data/data\";\n\nexport default class ArtistView extends LevelView {\n  get template() {\n    let answers = this.buildAnswers();\n\n    return `\n    <div class=\"main-wrap\">\n      <h2 class=\"title main-title\">Кто исполняет эту песню?</h2>\n      <div class=\"player-wrapper\">\n        <div class=\"player\">\n          <audio src=\"${this.data.audio}\"></audio>\n          <button class=\"player-control\"></button>\n          <div class=\"player-track\">\n            <span class=\"player-status\"></span>\n          </div>\n        </div>\n      </div>\n      <form class=\"main-list\">\n          ${answers}\n      </form>\n    </div>\n`;\n  }\n\n  answerTemplate(answer, num) {\n    let debug = ``;\n    if (IS_DEBUG && answer.isCorrect) {\n      debug = `debug`;\n    }\n\n    return `<div class=\"main-answer-wrapper\">\n          <input class=\"main-answer-r\" type=\"radio\" id=\"answer-${num}\" name=\"answer\" value=\"${num}\"/>\n          <label class=\"main-answer  ${debug}\" for=\"answer-${num}\">\n            <img class=\"main-answer-preview\" src=\"${answer.pic}\"\n                 alt=\"${answer.name}\" width=\"134\" height=\"134\">\n            ${answer.name}\n          </label>\n    </div>`;\n  }\n\n  bind(node) {\n    this.bindAudio();\n\n    let answerButtons = node.querySelectorAll(`input[name=\"answer\"]`);\n    for (let button of answerButtons) {\n      button.addEventListener(`change`, () => {\n        let answer = button.value;\n        this._answers.push(answer);\n        this.onAnswerClick(this._answers);\n      });\n    }\n  }\n\n  onAnswerClick() {\n  }\n\n}\n","/**\n * Created by Denis on 25.04.2018.\n */\n\nimport HeaderView from \"../views/header-view\";\nimport GenreView from \"../views/genre-level-view.js\";\nimport ArtistView from \"../views/artist-level-view.js\";\nimport {Result} from \"../data/data\";\n\nexport default class GameScreen {\n  constructor(model) {\n    this.model = model;\n    this.header = new HeaderView(this.model.state);\n    this.content = this.question;\n\n    this.root = document.createElement(`div`);\n    this.root.appendChild(this.header.element);\n    this.root.appendChild(this.content.element);\n    this._interval = null;\n  }\n\n  get element() {\n    return this.root;\n  }\n\n  get question() {\n    const currentQuestion = this.model.currQuestion;\n    let question = ``;\n\n    switch (currentQuestion.type) {\n      case `artist`:\n        question = new ArtistView(currentQuestion);\n        break;\n      case `genre`:\n        question = new GenreView(currentQuestion);\n        break;\n      default:\n        throw new Error(`Missing question type`);\n    }\n\n    return question;\n  }\n\n  init() {\n    this.nextQuestion();\n\n    this._interval = setInterval(() => {\n      if (this.model.status === Result.TIME) {\n        this.endGame();\n      }\n      this.model.tick();\n      this.updateHeader();\n    }, 1000);\n  }\n\n  endGame() {\n    clearInterval(this._interval);\n    this.onEnd(this.model);\n  }\n\n  updateHeader() {\n    const header = new HeaderView(this.model.state);\n    this.root.replaceChild(header.element, this.header.element);\n    this.header = header;\n  }\n\n  updateContent(view) {\n    this.root.replaceChild(view.element, this.content.element);\n    this.content = view;\n  }\n\n  nextQuestion() {\n    this.updateHeader();\n\n    const question = this.question;\n    question.onAnswerClick = this.checkAnswer.bind(this);\n    this.updateContent(question);\n  }\n\n  checkAnswer(answers) {\n    let curr = this.model.currQuestion.answers;\n    let err = 0;\n    let answer = {\n      isCorrect: true,\n      time: this.model.time\n    };\n\n    for (let it of answers) {\n      if (!curr[it].isCorrect) {\n        err++;\n      }\n    }\n\n    if (err > 0) {\n      this.model.wrongAnswer();\n      answer.isCorrect = false;\n    }\n\n    this.model.addAnswer(answer);\n\n    if (this.model.status === Result.NEXT_LEVEL) {\n      this.model.nextQuestion();\n      this.nextQuestion();\n    } else {\n      this.endGame();\n    }\n\n  }\n\n  onEnd() {\n\n  }\n}\n\n","/**\n * Created by Denis on 11.04.2018.\n */\n\nimport AbstractView from \"./abstract-view\";\n\nexport default class ResultView extends AbstractView {\n  get template() {\n    return `\n    <section class=\"logo\" title=\"Угадай мелодию\"><h1>Угадай мелодию</h1></section>\n\n    <h2 class=\"title\">${this.data.title}</h2>\n    <div class=\"main-stat\">${this.data.stat}</div>\n    <span role=\"button\" tabindex=\"0\" class=\"main-replay\">${this.data.replay}</span>\n`;\n  }\n\n  bind(node) {\n    node.querySelector(`.main-replay`).addEventListener(`click`, () => {\n      this.onRestart();\n    });\n  }\n\n  onRestart() {\n\n  }\n}\n","/**\n * Created by Denis on 28.04.2018.\n */\n\nimport ResultView from \"../views/result-view\";\nimport {COUNT_RULES, Result} from \"../data/data\";\nimport {plural} from \"../helpers/utils\";\n\nconst resultsTemplates = {\n  timeout: {\n    title: `Увы и ах!`,\n    replay: `Попробовать ещё раз`\n  },\n  fail: {\n    title: `Какая жалость!`,\n    replay: `Попробовать ещё раз`\n  },\n  win: {\n    title: `Вы настоящий меломан!`,\n    replay: `Сыграть ещё раз`\n  }\n};\n\nexport default class ResultScreen {\n  constructor(model) {\n    this.model = model;\n    this._result = ``;\n    this.content = new ResultView(this.result);\n  }\n\n  get element() {\n    return this.content.element;\n  }\n\n  showResult() {\n    const view = new ResultView(this._result);\n    view.onRestart = this.restartGame.bind(this);\n\n    this.content = view;\n  }\n\n  restartGame() {\n    this.onRestart();\n  }\n\n  countPoints() {\n    let points = 0;\n    let answers = this.model.answers;\n\n    let lastAnswerTime = 300;\n    for (let currentAnswer of answers) {\n      if (currentAnswer.isCorrect) {\n        points += COUNT_RULES.isCorrect;\n\n        if ((lastAnswerTime - currentAnswer.time) < COUNT_RULES.fastTime) {\n          points += COUNT_RULES.isFast;\n        }\n      } else {\n        points -= COUNT_RULES.isFail;\n      }\n      lastAnswerTime = currentAnswer.time;\n    }\n\n    this.model.points = points;\n  }\n\n  getFailResult() {\n    let result = ``;\n\n    if (this.model.status === Result.TIME) {\n      result = resultsTemplates.timeout;\n      result[`stat`] = `Время вышло!<br>Вы не успели отгадать все мелодии`;\n    }\n\n    if (this.model.status === Result.MISTAKES) {\n      result = resultsTemplates.fail;\n      result[`stat`] = `У вас закончились все попытки.<br>Ничего, повезёт в следующий раз!`;\n    }\n\n    this._result = result;\n  }\n\n  getWinResult(statistic) {\n    let result = resultsTemplates.win;\n    const place = statistic.indexOf(this.model.points) + 1;\n    const placesCount = statistic.length;\n    const percent = Math.round((placesCount - place) / placesCount * 100);\n    result.stat = `Вы заняли ${place}-ое место из ${placesCount} ${plural(placesCount, [`игрока`, `игроков`, `игроков`])}.<br> Это лучше, чем у ${percent}% игроков`;\n\n    this._result = result;\n  }\n\n  onRestart() {\n\n  }\n}\n","/**\n * Created by Denis on 28.04.2018.\n */\n\nconst APP_ID = `7956`;\n\nconst QUESTIONS_URL = `https://es.dump.academy/guess-melody/questions`;\nconst STATS_URL = `https://es.dump.academy/guess-melody/stats/${APP_ID}`;\n\nconst checkStatus = (response) => {\n  if (response.status >= 200 && response.status < 300) {\n    return response;\n  } else {\n    throw new Error(`${response.status}: ${response.statusText}`);\n  }\n};\n\nexport default class Loader {\n  static loadQuestions() {\n    return window.fetch(QUESTIONS_URL)\n        .then(checkStatus)\n        .then((response) => response.json());\n  }\n\n  static getStats() {\n    return window.fetch(STATS_URL).then(checkStatus).then((response) => response.json());\n  }\n\n  static saveResults(points) {\n    const requestSettings = {\n      body: JSON.stringify({\n        points\n      }),\n      headers: {\n        'Content-Type': `application/json`\n      },\n      method: `POST`\n    };\n    return fetch(STATS_URL, requestSettings).then(checkStatus);\n  }\n\n}\n","/**\n * Created by Denis on 26.04.2018.\n */\n\nconst QuestionType = {\n  GENRE: `genre`,\n  ARTIST: `artist`\n};\n\nexport const adaptServerData = (data) => {\n  for (const question of data) {\n    switch (question.type) {\n      case QuestionType.ARTIST:\n        question.audio = question.src;\n        question.answers = adaptArtistAnswers(question.answers);\n        break;\n      case QuestionType.GENRE:\n        question.text = question.question;\n        question.answers = adaptGenreAnswers(question.answers, question.genre);\n        break;\n    }\n  }\n\n  return data;\n};\n\nconst adaptArtistAnswers = (answers) =>\n  answers.map((answer) => ({\n    name: answer.title,\n    pic: answer.image.url,\n    isCorrect: answer.isCorrect\n  }));\n\nconst adaptGenreAnswers = (answers, genre) =>\n  answers.map((answer) => ({\n    audio: answer.src,\n    isCorrect: answer.genre === genre\n  }));\n\nexport const getAudioList = (data) => {\n  let audios = new Set();\n  for (let question of data) {\n    if (question.type === `genre`) {\n      for (let answer of question.answers) {\n        audios.add(answer.audio);\n      }\n    } else {\n      audios.add(question.audio);\n    }\n  }\n\n  return audios;\n};\n","/**\n * Created by Denis on 25.04.2018.\n */\n\nimport WelcomeView from \"../views/welcome-view\";\nimport LoadingView from \"../views/loading-view\";\nimport GameModel from \"../modules/game-model\";\nimport GameScreen from \"../modules/game-screen\";\nimport ResultScreen from \"../modules/result-screen\";\nimport Loader from \"./loader\";\nimport {defaultSettings, Result} from \"../data/data\";\nimport {adaptServerData, getAudioList} from \"../data/data-adapter\";\nimport {plural} from \"../helpers/utils\";\n\nconst mainView = document.querySelector(`section.main`);\nconst changeView = (element, type = ``, isLevel = false) => {\n\n  mainView.classList = `main`;\n\n  if (isLevel) {\n    mainView.classList.add(`main--level`);\n  }\n\n  mainView.classList.add(`main--${type}`);\n  mainView.innerHTML = ``;\n  mainView.appendChild(element);\n};\n\nconst showLoadingScreen = (title, text = ``) => {\n  const data = {\n    title,\n    text\n  };\n\n  const loading = new LoadingView(data);\n  changeView(loading.element, `result`);\n};\n\nconst loadingAudio = (data) => {\n  return new Promise((onLoaded) => {\n    const audios = getAudioList(data);\n    let currentLoadedAudio = 0;\n\n    for (let audio of audios) {\n      let sound = new Audio(audio);\n\n      sound.addEventListener(`canplaythrough`, () => {\n        currentLoadedAudio++;\n        const text = `${plural(currentLoadedAudio, [`Загружена`, `Загружено`, `Загружено`])} ${currentLoadedAudio}\n                    ${plural(currentLoadedAudio, [`мелодия`, `мелодии`, `мелодий`])} из ${audios.size}`;\n\n        showLoadingScreen(`Загружаем музыку!`, text);\n\n        if (currentLoadedAudio === audios.size) {\n          onLoaded(data);\n        }\n      });\n    }\n\n  });\n};\n\nexport default class Application {\n\n  static start() {\n    showLoadingScreen(`Загружаем вопросы!`);\n\n    Loader.loadQuestions()\n        .then((data)=>adaptServerData(data))\n        .then((data) => loadingAudio(data))\n        .then((data)=>Application.showWelcome(data));\n  }\n\n  static showWelcome(data) {\n    const welcome = new WelcomeView(defaultSettings);\n\n    welcome.onStart = () => {\n      this.showGame(data);\n    };\n    changeView(welcome.element, `welcome`);\n  }\n\n  static showGame(data) {\n    const gameScreen = new GameScreen(new GameModel(data));\n    gameScreen.onEnd = (stats) => {\n      this.showStats(stats);\n    };\n    changeView(gameScreen.element, ``, true);\n    gameScreen.init();\n  }\n\n  static showStats(model) {\n    const results = new ResultScreen(model);\n\n    if (model.status === Result.WIN) {\n      showLoadingScreen(`Загружаем статистику!`);\n      results.countPoints();\n\n      Loader.saveResults(model.points)\n          .then(Loader.getStats)\n          .then((stats) => stats.map((result) => (result.points)))\n          .then((stats) => (stats.sort((left, right) => right - left)))\n          .then((stats) => (results.getWinResult(stats)))\n          .then(() => (results.showResult()))\n          .then(()=> (changeView(results.element, `result`)));\n    } else {\n      results.getFailResult();\n      results.showResult();\n      changeView(results.element, `result`);\n    }\n\n    results.onRestart = () => {\n      this.start();\n    };\n  }\n\n}\n","/**\n * Created by Denis on 27.03.2018.\n */\n\nimport Application from './common/application';\nApplication.start();\n"],"names":[],"mappings":";;;AAAA;;;;;;;;;AASA,AAAO,MAAM,KAAK,GAAG,CAAC,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;;;;;;;;AAQ1D,AAAO,MAAM,MAAM,GAAG,CAAC,GAAG,EAAE,SAAS,KAAK;EACxC,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;;EAEtB,CAAC,IAAI,GAAG,CAAC;EACT,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,EAAE;IACrB,OAAO,SAAS,CAAC,CAAC,CAAC,CAAC;GACrB;EACD,CAAC,IAAI,EAAE,CAAC;EACR,IAAI,CAAC,KAAK,CAAC,EAAE;IACX,OAAO,SAAS,CAAC,CAAC,CAAC,CAAC;GACrB;EACD,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;IACpB,OAAO,SAAS,CAAC,CAAC,CAAC,CAAC;GACrB;EACD,OAAO,SAAS,CAAC,CAAC,CAAC,CAAC;CACrB,CAAC;;AChCF;;;;AAIA,AAAe,MAAM,YAAY,CAAC;EAChC,WAAW,CAAC,IAAI,GAAG,CAAC,CAAC,EAAE;IACrB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACjB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;GACtB;;EAED,IAAI,QAAQ,GAAG;GACd;;EAED,MAAM,CAAC,IAAI,EAAE;IACX,IAAI,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IAC7C,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC;IAC1B,OAAO,QAAQ,CAAC;GACjB;;EAED,IAAI,GAAG;GACN;;EAED,IAAI,OAAO,GAAG;IACZ,IAAI,IAAI,CAAC,QAAQ,KAAK,IAAI,EAAE;MAC1B,IAAI,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;MACtC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;;MAErB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACjB;;IAED,OAAO,IAAI,CAAC,QAAQ,CAAC;GACtB;CACF;;AChCD;;;AAGA,AAEA;AACA,AAAe,MAAM,WAAW,SAAS,YAAY,CAAC;EACpD,IAAI,QAAQ,GAAG;IACb,OAAO,CAAC;;;;;oCAKwB,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;sBAC1H,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;;;AAGnG,CAAC,CAAC;GACC;;EAED,IAAI,CAAC,IAAI,EAAE;IACT,IAAI,CAAC,aAAa,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,EAAE,MAAM;MAC/D,IAAI,CAAC,OAAO,EAAE,CAAC;KAChB,CAAC,CAAC;GACJ;;EAED,OAAO,GAAG;;GAET;;CAEF;;AC9BD;;;AAGA,AAEA;AACA,AAAe,MAAM,WAAW,SAAS,YAAY,CAAC;;EAEpD,IAAI,QAAQ,GAAG;IACb,OAAO,CAAC;;sBAEU,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;2BACb,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;GACjD;CACF;;ACdD;;;AAGA,AAAO,MAAM,eAAe,GAAG;EAC7B,IAAI,EAAE,GAAG;EACT,SAAS,EAAE,CAAC;CACb,CAAC;;AAEF,AAAO,MAAM,QAAQ,GAAG,KAAK,CAAC;;AAE9B,AAAO,MAAM,WAAW,GAAG;EACzB,SAAS,EAAE,CAAC;EACZ,MAAM,EAAE,CAAC;EACT,MAAM,EAAE,CAAC;EACT,QAAQ,EAAE,EAAE;CACb,CAAC;;AAEF,AAAO,MAAM,MAAM,GAAG;EACpB,IAAI,EAAE,CAAC;EACP,QAAQ,EAAE,CAAC;EACX,GAAG,EAAE,CAAC;EACN,UAAU,EAAE,CAAC;CACd,CAAC;;AAEF,AAAO,MAAM,iBAAiB,GAAG;EAC/B,WAAW,EAAE,CAAC,CAAC;EACf,IAAI,EAAE,eAAe,CAAC,IAAI;EAC1B,QAAQ,EAAE,CAAC;EACX,SAAS,EAAE,eAAe,CAAC,SAAS;EACpC,MAAM,EAAE,CAAC;EACT,OAAO,EAAE,EAAE;CACZ,CAAC;;AC/BF;;;AAGA,AAGA;AACA,AAAe,MAAM,SAAS,CAAC;EAC7B,WAAW,CAAC,SAAS,EAAE;IACrB,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;IAC5B,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,UAAU,CAAC;;IAEjC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;;IAEhC,IAAI,CAAC,OAAO,EAAE,CAAC;GAChB;;EAED,IAAI,KAAK,GAAG;IACV,OAAO,IAAI,CAAC,MAAM,CAAC;GACpB;;EAED,IAAI,MAAM,GAAG;IACX,OAAO,IAAI,CAAC,OAAO,CAAC;GACrB;;EAED,IAAI,IAAI,GAAG;IACT,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;GACzB;;EAED,IAAI,QAAQ,GAAG;IACb,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;GAC7B;;EAED,IAAI,OAAO,GAAG;IACZ,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;GAC5B;;EAED,IAAI,YAAY,GAAG;IACjB,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;GAC7B;;EAED,IAAI,MAAM,GAAG;IACX,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;GAC3B;;EAED,IAAI,MAAM,CAAC,MAAM,EAAE;IACjB,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC;GAC7B;;EAED,eAAe,GAAG;IAChB,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC;GACjE;;EAED,YAAY,GAAG;IACb,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC;IACrE,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC;GAC3B;;EAED,OAAO,GAAG;IACR,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,iBAAiB,CAAC,CAAC;IACvC,IAAI,CAAC,MAAM,CAAC,UAAU,GAAG,CAAC,CAAC;IAC3B,IAAI,CAAC,YAAY,EAAE,CAAC;GACrB;;EAED,IAAI,GAAG;IACL,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;;IAEnB,IAAI,CAAC,MAAM,CAAC,UAAU,IAAI,IAAI,CAAC,mBAAmB,CAAC;;IAEnD,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,EAAE;MACzB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC;KAC5B;GACF;;EAED,WAAW,GAAG;IACZ,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;GACxB;;EAED,SAAS,CAAC,MAAM,EAAE;IAChB,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACjC,IAAI,CAAC,YAAY,EAAE,CAAC;GACrB;;EAED,YAAY,GAAG;IACb,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,KAAK,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE;MAClD,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,QAAQ,CAAC;KAChC;;IAED,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,EAAE;MAC3B,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,GAAG,CAAC;KAC3B;GACF;;EAED,WAAW,CAAC,CAAC,EAAE;IACb,OAAO,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;GAC3B;CACF;;AChGD;;;AAGA,AACA;AACA,AAAe,MAAM,UAAU,SAAS,YAAY,CAAC;;EAEnD,IAAI,QAAQ,GAAG;IACb,OAAO,CAAC;;;;;;;;2BAQe,EAAE,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC;;;;;;uCAMX,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC,CAAC;;0CAE/B,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;;;;IAIjF,EAAE,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;OAC5B,IAAI,CAAC,CAAC,4EAA4E,CAAC,CAAC;OACpF,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;;;AAGhB,CAAC,CAAC;GACC;CACF;;ACnCD;;;AAGA,AACA;AACA,AAAe,MAAM,SAAS,SAAS,YAAY,CAAC;EAClD,WAAW,CAAC,IAAI,EAAE;IAChB,KAAK,CAAC,IAAI,CAAC,CAAC;;IAEZ,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;IACnB,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;GACjB;;EAED,IAAI,QAAQ,GAAG;;GAEd;;EAED,cAAc,GAAG;;GAEhB;;EAED,YAAY,GAAG;IACb,MAAM,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;;IAEvD,KAAK,MAAM,KAAK,IAAI,MAAM,EAAE;MAC1B,KAAK,CAAC,KAAK,EAAE,CAAC;MACd,KAAK,CAAC,kBAAkB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC;KACpE;GACF;;EAED,SAAS,GAAG;IACV,MAAM,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,CAAC,uBAAuB,CAAC,CAAC,CAAC;;IAE/E,KAAK,MAAM,MAAM,IAAI,YAAY,EAAE;MACjC,MAAM,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,KAAK;QACtC,CAAC,CAAC,cAAc,EAAE,CAAC;;QAEnB,IAAI,MAAM,CAAC,sBAAsB,CAAC,MAAM,KAAK,KAAK,EAAE;UAClD,MAAM,CAAC,sBAAsB,CAAC,KAAK,EAAE,CAAC;SACvC,MAAM;UACL,IAAI,CAAC,YAAY,EAAE,CAAC;UACpB,MAAM,CAAC,sBAAsB,CAAC,IAAI,EAAE,CAAC;SACtC;;QAED,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC;;OAElD,CAAC,CAAC;KACJ;;IAED,IAAI,CAAC,cAAc,EAAE,CAAC;GACvB;;EAED,cAAc,GAAG;IACf,MAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;IACnD,KAAK,CAAC,IAAI,EAAE,CAAC;IACb,KAAK,CAAC,kBAAkB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC;GACpE;;EAED,YAAY,GAAG;IACb,IAAI,UAAU,GAAG,EAAE,CAAC;IACpB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;;MAEjD,IAAI,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;MAC9B,IAAI,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;;MAE1C,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;KAC3B;;IAED,OAAO,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;GAC5B;;EAED,IAAI,MAAM,GAAG;IACX,OAAO;MACL,MAAM,EAAE,IAAI,CAAC,QAAQ;MACrB,IAAI,EAAE,IAAI,CAAC,KAAK;KACjB,CAAC;GACH;;CAEF;;AC9ED;;;AAGA,AAEA;AACA,AAAe,MAAM,SAAS,SAAS,SAAS,CAAC;EAC/C,IAAI,QAAQ,GAAG;IACb,IAAI,OAAO,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;;IAElC,OAAO,CAAC;;wBAEY,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;;QAEjC,EAAE,OAAO,CAAC;;;;AAIlB,CAAC,CAAC;GACC;;EAED,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE;IAC1B,IAAI,KAAK,GAAG,CAAC,CAAC,CAAC;IACf,IAAI,QAAQ,IAAI,MAAM,CAAC,SAAS,EAAE;MAChC,KAAK,GAAG,CAAC,KAAK,CAAC,CAAC;KACjB;IACD,OAAO,CAAC;;;0BAGc,EAAE,MAAM,CAAC,KAAK,CAAC;;;;;;;sDAOa,EAAE,GAAG,CAAC,QAAQ,EAAE,GAAG,CAAC;2CAC/B,EAAE,KAAK,CAAC,SAAS,EAAE,GAAG,CAAC;YACtD,CAAC,CAAC;GACX;;EAED,IAAI,CAAC,IAAI,EAAE;IACT,IAAI,CAAC,SAAS,EAAE,CAAC;IACjB,IAAI,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC;IAC1D,IAAI,aAAa,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC;;IAElE,KAAK,IAAI,MAAM,IAAI,aAAa,EAAE;MAChC,MAAM,CAAC,gBAAgB,CAAC,CAAC,MAAM,CAAC,EAAE,YAAY;QAC5C,IAAI,UAAU,GAAG,QAAQ,CAAC,gBAAgB,CAAC,CAAC,4BAA4B,CAAC,CAAC,CAAC,MAAM,CAAC;QAClF,IAAI,UAAU,GAAG,CAAC,IAAI,UAAU,CAAC,QAAQ,EAAE;UACzC,UAAU,CAAC,QAAQ,GAAG,KAAK,CAAC;SAC7B,MAAM,IAAI,UAAU,KAAK,CAAC,EAAE;UAC3B,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC;SAC5B;OACF,CAAC,CAAC;KACJ;;IAED,UAAU,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,KAAK;MAC1C,CAAC,CAAC,cAAc,EAAE,CAAC;;MAEnB,IAAI,OAAO,GAAG,QAAQ,CAAC,gBAAgB,CAAC,CAAC,4BAA4B,CAAC,CAAC,CAAC;MACxE,KAAK,IAAI,EAAE,IAAI,OAAO,EAAE;QACtB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;OAC9B;;MAED,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;KAC/C,CAAC,CAAC;GACJ;;EAED,aAAa,GAAG;GACf;;CAEF;;ACxED;;;AAGA,AAEA;AACA,AAAe,MAAM,UAAU,SAAS,SAAS,CAAC;EAChD,IAAI,QAAQ,GAAG;IACb,IAAI,OAAO,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;;IAElC,OAAO,CAAC;;;;;sBAKU,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;;;;;;;;UAQ9B,EAAE,OAAO,CAAC;;;AAGpB,CAAC,CAAC;GACC;;EAED,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE;IAC1B,IAAI,KAAK,GAAG,CAAC,CAAC,CAAC;IACf,IAAI,QAAQ,IAAI,MAAM,CAAC,SAAS,EAAE;MAChC,KAAK,GAAG,CAAC,KAAK,CAAC,CAAC;KACjB;;IAED,OAAO,CAAC;+DACmD,EAAE,GAAG,CAAC,uBAAuB,EAAE,GAAG,CAAC;qCAC7D,EAAE,KAAK,CAAC,cAAc,EAAE,GAAG,CAAC;kDACf,EAAE,MAAM,CAAC,GAAG,CAAC;sBACzC,EAAE,MAAM,CAAC,IAAI,CAAC;YACxB,EAAE,MAAM,CAAC,IAAI,CAAC;;UAEhB,CAAC,CAAC;GACT;;EAED,IAAI,CAAC,IAAI,EAAE;IACT,IAAI,CAAC,SAAS,EAAE,CAAC;;IAEjB,IAAI,aAAa,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC;IAClE,KAAK,IAAI,MAAM,IAAI,aAAa,EAAE;MAChC,MAAM,CAAC,gBAAgB,CAAC,CAAC,MAAM,CAAC,EAAE,MAAM;QACtC,IAAI,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC;QAC1B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC3B,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;OACnC,CAAC,CAAC;KACJ;GACF;;EAED,aAAa,GAAG;GACf;;CAEF;;AC7DD;;;AAGA,AAKA;AACA,AAAe,MAAM,UAAU,CAAC;EAC9B,WAAW,CAAC,KAAK,EAAE;IACjB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACnB,IAAI,CAAC,MAAM,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;IAC/C,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC;;IAE7B,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IAC1C,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IAC3C,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;IAC5C,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;GACvB;;EAED,IAAI,OAAO,GAAG;IACZ,OAAO,IAAI,CAAC,IAAI,CAAC;GAClB;;EAED,IAAI,QAAQ,GAAG;IACb,MAAM,eAAe,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC;IAChD,IAAI,QAAQ,GAAG,CAAC,CAAC,CAAC;;IAElB,QAAQ,eAAe,CAAC,IAAI;MAC1B,KAAK,CAAC,MAAM,CAAC;QACX,QAAQ,GAAG,IAAI,UAAU,CAAC,eAAe,CAAC,CAAC;QAC3C,MAAM;MACR,KAAK,CAAC,KAAK,CAAC;QACV,QAAQ,GAAG,IAAI,SAAS,CAAC,eAAe,CAAC,CAAC;QAC1C,MAAM;MACR;QACE,MAAM,IAAI,KAAK,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC;KAC5C;;IAED,OAAO,QAAQ,CAAC;GACjB;;EAED,IAAI,GAAG;IACL,IAAI,CAAC,YAAY,EAAE,CAAC;;IAEpB,IAAI,CAAC,SAAS,GAAG,WAAW,CAAC,MAAM;MACjC,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,MAAM,CAAC,IAAI,EAAE;QACrC,IAAI,CAAC,OAAO,EAAE,CAAC;OAChB;MACD,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;MAClB,IAAI,CAAC,YAAY,EAAE,CAAC;KACrB,EAAE,IAAI,CAAC,CAAC;GACV;;EAED,OAAO,GAAG;IACR,aAAa,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IAC9B,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;GACxB;;EAED,YAAY,GAAG;IACb,MAAM,MAAM,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;IAChD,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IAC5D,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;GACtB;;EAED,aAAa,CAAC,IAAI,EAAE;IAClB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;IAC3D,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;GACrB;;EAED,YAAY,GAAG;IACb,IAAI,CAAC,YAAY,EAAE,CAAC;;IAEpB,MAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;IAC/B,QAAQ,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACrD,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;GAC9B;;EAED,WAAW,CAAC,OAAO,EAAE;IACnB,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC;IAC3C,IAAI,GAAG,GAAG,CAAC,CAAC;IACZ,IAAI,MAAM,GAAG;MACX,SAAS,EAAE,IAAI;MACf,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI;KACtB,CAAC;;IAEF,KAAK,IAAI,EAAE,IAAI,OAAO,EAAE;MACtB,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,SAAS,EAAE;QACvB,GAAG,EAAE,CAAC;OACP;KACF;;IAED,IAAI,GAAG,GAAG,CAAC,EAAE;MACX,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC;MACzB,MAAM,CAAC,SAAS,GAAG,KAAK,CAAC;KAC1B;;IAED,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;;IAE7B,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,MAAM,CAAC,UAAU,EAAE;MAC3C,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC;MAC1B,IAAI,CAAC,YAAY,EAAE,CAAC;KACrB,MAAM;MACL,IAAI,CAAC,OAAO,EAAE,CAAC;KAChB;;GAEF;;EAED,KAAK,GAAG;;GAEP;CACF;;AChHD;;;AAGA,AAEA;AACA,AAAe,MAAM,UAAU,SAAS,YAAY,CAAC;EACnD,IAAI,QAAQ,GAAG;IACb,OAAO,CAAC;;;sBAGU,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;2BACb,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;yDACa,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;AAC5E,CAAC,CAAC;GACC;;EAED,IAAI,CAAC,IAAI,EAAE;IACT,IAAI,CAAC,aAAa,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,EAAE,MAAM;MACjE,IAAI,CAAC,SAAS,EAAE,CAAC;KAClB,CAAC,CAAC;GACJ;;EAED,SAAS,GAAG;;GAEX;CACF;;AC1BD;;;AAGA,AAIA;AACA,MAAM,gBAAgB,GAAG;EACvB,OAAO,EAAE;IACP,KAAK,EAAE,CAAC,SAAS,CAAC;IAClB,MAAM,EAAE,CAAC,mBAAmB,CAAC;GAC9B;EACD,IAAI,EAAE;IACJ,KAAK,EAAE,CAAC,cAAc,CAAC;IACvB,MAAM,EAAE,CAAC,mBAAmB,CAAC;GAC9B;EACD,GAAG,EAAE;IACH,KAAK,EAAE,CAAC,qBAAqB,CAAC;IAC9B,MAAM,EAAE,CAAC,eAAe,CAAC;GAC1B;CACF,CAAC;;AAEF,AAAe,MAAM,YAAY,CAAC;EAChC,WAAW,CAAC,KAAK,EAAE;IACjB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACnB,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC;IAClB,IAAI,CAAC,OAAO,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;GAC5C;;EAED,IAAI,OAAO,GAAG;IACZ,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC;GAC7B;;EAED,UAAU,GAAG;IACX,MAAM,IAAI,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAC1C,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;IAE7C,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;GACrB;;EAED,WAAW,GAAG;IACZ,IAAI,CAAC,SAAS,EAAE,CAAC;GAClB;;EAED,WAAW,GAAG;IACZ,IAAI,MAAM,GAAG,CAAC,CAAC;IACf,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;;IAEjC,IAAI,cAAc,GAAG,GAAG,CAAC;IACzB,KAAK,IAAI,aAAa,IAAI,OAAO,EAAE;MACjC,IAAI,aAAa,CAAC,SAAS,EAAE;QAC3B,MAAM,IAAI,WAAW,CAAC,SAAS,CAAC;;QAEhC,IAAI,CAAC,cAAc,GAAG,aAAa,CAAC,IAAI,IAAI,WAAW,CAAC,QAAQ,EAAE;UAChE,MAAM,IAAI,WAAW,CAAC,MAAM,CAAC;SAC9B;OACF,MAAM;QACL,MAAM,IAAI,WAAW,CAAC,MAAM,CAAC;OAC9B;MACD,cAAc,GAAG,aAAa,CAAC,IAAI,CAAC;KACrC;;IAED,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;GAC5B;;EAED,aAAa,GAAG;IACd,IAAI,MAAM,GAAG,CAAC,CAAC,CAAC;;IAEhB,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,MAAM,CAAC,IAAI,EAAE;MACrC,MAAM,GAAG,gBAAgB,CAAC,OAAO,CAAC;MAClC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,iDAAiD,CAAC,CAAC;KACtE;;IAED,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,MAAM,CAAC,QAAQ,EAAE;MACzC,MAAM,GAAG,gBAAgB,CAAC,IAAI,CAAC;MAC/B,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,kEAAkE,CAAC,CAAC;KACvF;;IAED,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;GACvB;;EAED,YAAY,CAAC,SAAS,EAAE;IACtB,IAAI,MAAM,GAAG,gBAAgB,CAAC,GAAG,CAAC;IAClC,MAAM,KAAK,GAAG,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IACvD,MAAM,WAAW,GAAG,SAAS,CAAC,MAAM,CAAC;IACrC,MAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,WAAW,GAAG,KAAK,IAAI,WAAW,GAAG,GAAG,CAAC,CAAC;IACtE,MAAM,CAAC,IAAI,GAAG,CAAC,UAAU,EAAE,KAAK,CAAC,aAAa,EAAE,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,WAAW,EAAE,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,uBAAuB,EAAE,OAAO,CAAC,SAAS,CAAC,CAAC;;IAEjK,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;GACvB;;EAED,SAAS,GAAG;;GAEX;CACF;;AC/FD;;;;AAIA,MAAM,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC;;AAEtB,MAAM,aAAa,GAAG,CAAC,8CAA8C,CAAC,CAAC;AACvE,MAAM,SAAS,GAAG,CAAC,2CAA2C,EAAE,MAAM,CAAC,CAAC,CAAC;;AAEzE,MAAM,WAAW,GAAG,CAAC,QAAQ,KAAK;EAChC,IAAI,QAAQ,CAAC,MAAM,IAAI,GAAG,IAAI,QAAQ,CAAC,MAAM,GAAG,GAAG,EAAE;IACnD,OAAO,QAAQ,CAAC;GACjB,MAAM;IACL,MAAM,IAAI,KAAK,CAAC,CAAC,EAAE,QAAQ,CAAC,MAAM,CAAC,EAAE,EAAE,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;GAC/D;CACF,CAAC;;AAEF,AAAe,MAAM,MAAM,CAAC;EAC1B,OAAO,aAAa,GAAG;IACrB,OAAO,MAAM,CAAC,KAAK,CAAC,aAAa,CAAC;SAC7B,IAAI,CAAC,WAAW,CAAC;SACjB,IAAI,CAAC,CAAC,QAAQ,KAAK,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC;GAC1C;;EAED,OAAO,QAAQ,GAAG;IAChB,OAAO,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,KAAK,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC;GACtF;;EAED,OAAO,WAAW,CAAC,MAAM,EAAE;IACzB,MAAM,eAAe,GAAG;MACtB,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC;QACnB,MAAM;OACP,CAAC;MACF,OAAO,EAAE;QACP,cAAc,EAAE,CAAC,gBAAgB,CAAC;OACnC;MACD,MAAM,EAAE,CAAC,IAAI,CAAC;KACf,CAAC;IACF,OAAO,KAAK,CAAC,SAAS,EAAE,eAAe,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;GAC5D;;CAEF;;ACzCD;;;;AAIA,MAAM,YAAY,GAAG;EACnB,KAAK,EAAE,CAAC,KAAK,CAAC;EACd,MAAM,EAAE,CAAC,MAAM,CAAC;CACjB,CAAC;;AAEF,AAAO,MAAM,eAAe,GAAG,CAAC,IAAI,KAAK;EACvC,KAAK,MAAM,QAAQ,IAAI,IAAI,EAAE;IAC3B,QAAQ,QAAQ,CAAC,IAAI;MACnB,KAAK,YAAY,CAAC,MAAM;QACtB,QAAQ,CAAC,KAAK,GAAG,QAAQ,CAAC,GAAG,CAAC;QAC9B,QAAQ,CAAC,OAAO,GAAG,kBAAkB,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACxD,MAAM;MACR,KAAK,YAAY,CAAC,KAAK;QACrB,QAAQ,CAAC,IAAI,GAAG,QAAQ,CAAC,QAAQ,CAAC;QAClC,QAAQ,CAAC,OAAO,GAAG,iBAAiB,CAAC,QAAQ,CAAC,OAAO,EAAE,QAAQ,CAAC,KAAK,CAAC,CAAC;QACvE,MAAM;KACT;GACF;;EAED,OAAO,IAAI,CAAC;CACb,CAAC;;AAEF,MAAM,kBAAkB,GAAG,CAAC,OAAO;EACjC,OAAO,CAAC,GAAG,CAAC,CAAC,MAAM,MAAM;IACvB,IAAI,EAAE,MAAM,CAAC,KAAK;IAClB,GAAG,EAAE,MAAM,CAAC,KAAK,CAAC,GAAG;IACrB,SAAS,EAAE,MAAM,CAAC,SAAS;GAC5B,CAAC,CAAC,CAAC;;AAEN,MAAM,iBAAiB,GAAG,CAAC,OAAO,EAAE,KAAK;EACvC,OAAO,CAAC,GAAG,CAAC,CAAC,MAAM,MAAM;IACvB,KAAK,EAAE,MAAM,CAAC,GAAG;IACjB,SAAS,EAAE,MAAM,CAAC,KAAK,KAAK,KAAK;GAClC,CAAC,CAAC,CAAC;;AAEN,AAAO,MAAM,YAAY,GAAG,CAAC,IAAI,KAAK;EACpC,IAAI,MAAM,GAAG,IAAI,GAAG,EAAE,CAAC;EACvB,KAAK,IAAI,QAAQ,IAAI,IAAI,EAAE;IACzB,IAAI,QAAQ,CAAC,IAAI,KAAK,CAAC,KAAK,CAAC,EAAE;MAC7B,KAAK,IAAI,MAAM,IAAI,QAAQ,CAAC,OAAO,EAAE;QACnC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;OAC1B;KACF,MAAM;MACL,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;KAC5B;GACF;;EAED,OAAO,MAAM,CAAC;CACf,CAAC;;ACpDF;;;AAGA,AAUA;AACA,MAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;AACxD,MAAM,UAAU,GAAG,CAAC,OAAO,EAAE,IAAI,GAAG,CAAC,CAAC,EAAE,OAAO,GAAG,KAAK,KAAK;;EAE1D,QAAQ,CAAC,SAAS,GAAG,CAAC,IAAI,CAAC,CAAC;;EAE5B,IAAI,OAAO,EAAE;IACX,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;GACvC;;EAED,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;EACxC,QAAQ,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;EACxB,QAAQ,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;CAC/B,CAAC;;AAEF,MAAM,iBAAiB,GAAG,CAAC,KAAK,EAAE,IAAI,GAAG,CAAC,CAAC,KAAK;EAC9C,MAAM,IAAI,GAAG;IACX,KAAK;IACL,IAAI;GACL,CAAC;;EAEF,MAAM,OAAO,GAAG,IAAI,WAAW,CAAC,IAAI,CAAC,CAAC;EACtC,UAAU,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;CACvC,CAAC;;AAEF,MAAM,YAAY,GAAG,CAAC,IAAI,KAAK;EAC7B,OAAO,IAAI,OAAO,CAAC,CAAC,QAAQ,KAAK;IAC/B,MAAM,MAAM,GAAG,YAAY,CAAC,IAAI,CAAC,CAAC;IAClC,IAAI,kBAAkB,GAAG,CAAC,CAAC;;IAE3B,KAAK,IAAI,KAAK,IAAI,MAAM,EAAE;MACxB,IAAI,KAAK,GAAG,IAAI,KAAK,CAAC,KAAK,CAAC,CAAC;;MAE7B,KAAK,CAAC,gBAAgB,CAAC,CAAC,cAAc,CAAC,EAAE,MAAM;QAC7C,kBAAkB,EAAE,CAAC;QACrB,MAAM,IAAI,GAAG,CAAC,EAAE,MAAM,CAAC,kBAAkB,EAAE,CAAC,CAAC,SAAS,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,kBAAkB,CAAC;oBAC9F,EAAE,MAAM,CAAC,kBAAkB,EAAE,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;;QAEhG,iBAAiB,CAAC,CAAC,iBAAiB,CAAC,EAAE,IAAI,CAAC,CAAC;;QAE7C,IAAI,kBAAkB,KAAK,MAAM,CAAC,IAAI,EAAE;UACtC,QAAQ,CAAC,IAAI,CAAC,CAAC;SAChB;OACF,CAAC,CAAC;KACJ;;GAEF,CAAC,CAAC;CACJ,CAAC;;AAEF,AAAe,MAAM,WAAW,CAAC;;EAE/B,OAAO,KAAK,GAAG;IACb,iBAAiB,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC;;IAExC,MAAM,CAAC,aAAa,EAAE;SACjB,IAAI,CAAC,CAAC,IAAI,GAAG,eAAe,CAAC,IAAI,CAAC,CAAC;SACnC,IAAI,CAAC,CAAC,IAAI,KAAK,YAAY,CAAC,IAAI,CAAC,CAAC;SAClC,IAAI,CAAC,CAAC,IAAI,GAAG,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC;GAClD;;EAED,OAAO,WAAW,CAAC,IAAI,EAAE;IACvB,MAAM,OAAO,GAAG,IAAI,WAAW,CAAC,eAAe,CAAC,CAAC;;IAEjD,OAAO,CAAC,OAAO,GAAG,MAAM;MACtB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;KACrB,CAAC;IACF,UAAU,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC;GACxC;;EAED,OAAO,QAAQ,CAAC,IAAI,EAAE;IACpB,MAAM,UAAU,GAAG,IAAI,UAAU,CAAC,IAAI,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;IACvD,UAAU,CAAC,KAAK,GAAG,CAAC,KAAK,KAAK;MAC5B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;KACvB,CAAC;IACF,UAAU,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;IACzC,UAAU,CAAC,IAAI,EAAE,CAAC;GACnB;;EAED,OAAO,SAAS,CAAC,KAAK,EAAE;IACtB,MAAM,OAAO,GAAG,IAAI,YAAY,CAAC,KAAK,CAAC,CAAC;;IAExC,IAAI,KAAK,CAAC,MAAM,KAAK,MAAM,CAAC,GAAG,EAAE;MAC/B,iBAAiB,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC;MAC3C,OAAO,CAAC,WAAW,EAAE,CAAC;;MAEtB,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC;WAC3B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;WACrB,IAAI,CAAC,CAAC,KAAK,KAAK,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,MAAM,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;WACvD,IAAI,CAAC,CAAC,KAAK,MAAM,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,KAAK,KAAK,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC;WAC5D,IAAI,CAAC,CAAC,KAAK,MAAM,OAAO,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC;WAC9C,IAAI,CAAC,OAAO,OAAO,CAAC,UAAU,EAAE,CAAC,CAAC;WAClC,IAAI,CAAC,MAAM,UAAU,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;KACzD,MAAM;MACL,OAAO,CAAC,aAAa,EAAE,CAAC;MACxB,OAAO,CAAC,UAAU,EAAE,CAAC;MACrB,UAAU,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;KACvC;;IAED,OAAO,CAAC,SAAS,GAAG,MAAM;MACxB,IAAI,CAAC,KAAK,EAAE,CAAC;KACd,CAAC;GACH;;CAEF;;ACpHD;;;AAGA,AAEA,WAAW,CAAC,KAAK,EAAE,CAAC;;;;"}